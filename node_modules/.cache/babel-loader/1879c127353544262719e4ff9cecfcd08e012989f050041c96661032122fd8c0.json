{"ast":null,"code":"import _regeneratorRuntime from \"/home/adrienna/Documents/Stage/Suivi_courrier_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/adrienna/Documents/Stage/Suivi_courrier_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      formData: {\n        nom_courrier: '',\n        expediteur: '',\n        description: '',\n        date_reception: '',\n        dept: ''\n      },\n      depts: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    axios.get('http://localhost:8081/api/departements').then(function (response) {\n      _this.depts = response.data;\n    }).catch(function (error) {\n      console.error('Error fetching departments:', error);\n    });\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post('http://localhost:8081/api/insert_courrier', _this2.formData);\n            case 3:\n              alert('Form submitted successfully!');\n              _this2.formData = {\n                nom_role: ''\n              }; // Reset form data\n              _context.next = 11;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error submitting form:', _context.t0);\n              alert('Error submitting form.');\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","formData","nom_courrier","expediteur","description","date_reception","dept","depts","mounted","_this","get","then","response","catch","error","console","methods","submitForm","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","post","alert","nom_role","t0","stop"],"sources":["src/pages/InsertCourrier.vue"],"sourcesContent":["<template>\n    <card class=\"card\" title=\"Insert Document\">\n      <div>\n        <form @submit.prevent>\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n              <fg-input\n                type=\"text\"\n                label=\"name\"\n                placeholder=\"Enter Document name\"\n                v-model=\"formData.nom_courrier\"\n              >\n              </fg-input>\n              <fg-input\n                type=\"text\"\n                label=\"expeditor\"\n                placeholder=\"Enter Document expeditor\"\n                v-model=\"formData.expediteur\"\n              >\n              </fg-input>\n              <textarea name=\"description\" \n                label=\"description\"\n                placeholder=\"Enter Document description\" \n                rows=\"5\"\n                class=\"form-control border-input\"\n                v-model=\"formData.description\"\n              >\n              </textarea>\n              <fg-input\n                type=\"date\"\n                label=\"date of reception\"\n                placeholder=\"Enter date of reception\"\n                v-model=\"formData.date_reception\"\n              >\n              </fg-input>\n              <!-- dropdown dept -->\n              <div class=\"form-group\">\n                <label for=\"dept\">Department</label>\n                <select v-model=\"formData.dept\" id=\"dept\" class=\"form-control\">\n                  <option value=\"\">Select a department</option>\n                  <option v-for=\"dept in depts\" :key=\"dept.getId_departement()\" :value=\"dept.Id_departement()\">\n                    {{ dept.getNom_departement() }}\n                  </option>\n                </select>\n              </div>\n            </div>\n          </div>\n  \n          <div class=\"text-center\">\n            <p-button type=\"info\" round @click.native.prevent=\"submitForm\">\n              Insert\n            </p-button>\n          </div>\n          <div class=\"clearfix\"></div>\n        </form>\n      </div>\n    </card>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        formData: {\n          nom_courrier: '',\n          expediteur: '',\n          description: '',\n          date_reception: '',\n          dept: '',\n        },\n        depts: [],\n      };\n    },\n    mounted() {\n      axios.get('http://localhost:8081/api/departements')\n        .then(response => {\n          this.depts = response.data;\n        })\n        .catch(error => {\n          console.error('Error fetching departments:', error);\n        });\n      },\n    methods: {\n      async submitForm() {\n        try {\n          await axios.post('http://localhost:8081/api/insert_courrier', this.formData);\n          alert('Form submitted successfully!');\n          this.formData = { nom_role: '' }; // Reset form data\n        } catch (error) {\n          console.error('Error submitting form:', error);\n          alert('Error submitting form.');\n        }\n      },\n    },\n  };\n  </script>\n  \n  <style>\n  </style>"],"mappings":";;AA4DA,OAAAA,KAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,YAAA;QACAC,UAAA;QACAC,WAAA;QACAC,cAAA;QACAC,IAAA;MACA;MACAC,KAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACAV,KAAA,CAAAW,GAAA,2CACAC,IAAA,WAAAC,QAAA;MACAH,KAAA,CAAAF,KAAA,GAAAK,QAAA,CAAAZ,IAAA;IACA,GACAa,KAAA,WAAAC,KAAA;MACAC,OAAA,CAAAD,KAAA,gCAAAA,KAAA;IACA;EACA;EACAE,OAAA;IACAC,UAAA,WAAAA,WAAA;MAAA,IAAAC,MAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEA5B,KAAA,CAAA6B,IAAA,8CAAAV,MAAA,CAAAjB,QAAA;YAAA;cACA4B,KAAA;cACAX,MAAA,CAAAjB,QAAA;gBAAA6B,QAAA;cAAA;cAAAL,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;cAEAV,OAAA,CAAAD,KAAA,2BAAAW,QAAA,CAAAM,EAAA;cACAF,KAAA;YAAA;YAAA;cAAA,OAAAJ,QAAA,CAAAO,IAAA;UAAA;QAAA,GAAAV,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}