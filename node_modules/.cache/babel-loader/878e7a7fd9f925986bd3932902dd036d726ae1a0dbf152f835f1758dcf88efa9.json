{"ast":null,"code":"import _regeneratorRuntime from \"/home/adrienna/Documents/Stage/Suivi_courrier_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/adrienna/Documents/Stage/Suivi_courrier_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      utilisateurlist: []\n    };\n  },\n  mounted: function mounted() {\n    this.getListUserNotApprove();\n  },\n  methods: {\n    getListUserNotApprove: function getListUserNotApprove() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://localhost:8081/api/utilisateurs_non_approuves\");\n            case 3:\n              response = _context.sent;\n              _this.utilisateurlist = response.data;\n              console.log(\"Données du view :\", _this.utilisateurlist);\n              _context.next = 10;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }))();\n    },\n    Approve: function Approve(utilisateur) {\n      var _this2 = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.put(\"http://localhost:8081/api/approve/\".concat(utilisateur.id_utilisateur));\n            case 3:\n              response = _context2.sent;\n              console.log(\"update :\", response.data);\n              _this2.getListUserNotApprove();\n              _context2.next = 11;\n              break;\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 8]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","utilisateurlist","mounted","getListUserNotApprove","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","console","log","t0","stop","Approve","utilisateur","_this2","_callee2","_callee2$","_context2","put","concat","id_utilisateur","error"],"sources":["src/pages/ListUserNotApproved.vue"],"sourcesContent":["<template>\n  <div class=\"ged-container\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h3>Users Pending Approval</h3>\n      </div>\n      <div class=\"card-body\">\n        <div v-if=\"utilisateurlist.length === 0\" class=\"empty-state\">\n          <i class=\"ti-folder empty-icon\"></i>\n          <p>No users pending approval at the moment.</p>\n        </div>\n        <div v-else class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Department</th>\n                <th>Role</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"utilisateur in utilisateurlist\" :key=\"utilisateur.id_utilisateur\">\n                <td>{{ utilisateur.nom_utilisateur }}</td>\n                <td>{{ utilisateur.nom_departement }}</td>\n                <td>{{ utilisateur.nom_role }}</td>\n                <td>\n                  <button class=\"btn btn-approve\" @click=\"Approve(utilisateur)\">Approve</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        utilisateurlist: []\n      };\n    },\n    mounted() {\n      this.getListUserNotApprove();\n    },\n    methods: {\n        async getListUserNotApprove() {\n            try {\n                const response = await axios.get(\"http://localhost:8081/api/utilisateurs_non_approuves\");\n                this.utilisateurlist = response.data;\n                console.log(\"Données du view :\",this.utilisateurlist);\n            } catch (error) {\n          //      console.error(error);\n            }\n        },\n        async Approve(utilisateur) {\n            try {\n                const response = await axios.put(`http://localhost:8081/api/approve/${utilisateur.id_utilisateur}`);\n                console.log(\"update :\",response.data);\n                this.getListUserNotApprove();\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    }\n  };\n  </script>\n  \n  <style scoped>\n\n  .ged-container {\n  \n    padding: 20px;\n  \n    background-color: #f5f5f5;\n  \n  }\n  \n  \n  .card {\n  \n    background-color: #ffffff;\n  \n    border: none;\n  \n    border-radius: 8px;\n  \n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  \n    margin-bottom: 20px;\n  \n  }\n  \n  \n  .card-header {\n  \n    background-color: #001122;\n  \n    color: white;\n  \n    padding: 15px 20px;\n  \n    border-top-left-radius: 8px;\n  \n    border-top-right-radius: 8px;\n  \n  }\n  \n  \n  .card-header h3 {\n  \n    margin: 0;\n  \n    font-size: 18px;\n  \n    font-weight: 600;\n  \n  }\n  \n  \n  .card-body {\n  \n    padding: 20px;\n  \n  }\n  \n  \n  .empty-state {\n  \n    text-align: center;\n  \n    padding: 40px 20px;\n  \n    color: #6c757d;\n  \n  }\n  \n  \n  .empty-icon {\n  \n    font-size: 48px;\n  \n    margin-bottom: 20px;\n  \n  }\n  \n  \n  .table {\n  \n    width: 100%;\n  \n    border-collapse: separate;\n  \n    border-spacing: 0 10px;\n  \n  }\n  \n  \n  .table th {\n  \n    background-color: #f8f9fa;\n  \n    border: none;\n  \n    padding: 12px;\n  \n    font-weight: 600;\n  \n    color: #495057;\n  \n  }\n  \n  \n  .table td {\n  \n    background-color: #ffffff;\n  \n    border: none;\n  \n    padding: 12px;\n  \n    vertical-align: middle;\n  \n  }\n  \n  \n  .table tbody tr {\n  \n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\n  \n    transition: all 0.3s ease;\n  \n  }\n  \n  \n  .table tbody tr:hover {\n  \n    transform: translateY(-2px);\n  \n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  \n  }\n  \n  \n  .btn-approve {\n  \n    background-color: #28a745;\n  \n    color: white;\n  \n    border: none;\n  \n    padding: 8px 16px;\n  \n    border-radius: 4px;\n  \n    cursor: pointer;\n  \n    transition: background-color 0.3s ease;\n  \n  }\n  \n  \n  .btn-approve:hover {\n  \n    background-color: #218838;\n  \n  }\n  \n  </style>"],"mappings":";;AAuCA,OAAAA,KAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,eAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,qBAAA;EACA;EACAC,OAAA;IACAD,qBAAA,WAAAA,sBAAA;MAAA,IAAAE,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEAhB,KAAA,CAAAiB,GAAA;YAAA;cAAAN,QAAA,GAAAG,QAAA,CAAAI,IAAA;cACAZ,KAAA,CAAAJ,eAAA,GAAAS,QAAA,CAAAV,IAAA;cACAkB,OAAA,CAAAC,GAAA,sBAAAd,KAAA,CAAAJ,eAAA;cAAAY,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAO,EAAA,GAAAP,QAAA;YAAA;YAAA;cAAA,OAAAA,QAAA,CAAAQ,IAAA;UAAA;QAAA,GAAAZ,OAAA;MAAA;IAIA;IACAa,OAAA,WAAAA,QAAAC,WAAA;MAAA,IAAAC,MAAA;MAAA,OAAAlB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAiB,SAAA;QAAA,IAAAf,QAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAe,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAb,IAAA,GAAAa,SAAA,CAAAZ,IAAA;YAAA;cAAAY,SAAA,CAAAb,IAAA;cAAAa,SAAA,CAAAZ,IAAA;cAAA,OAEAhB,KAAA,CAAA6B,GAAA,sCAAAC,MAAA,CAAAN,WAAA,CAAAO,cAAA;YAAA;cAAApB,QAAA,GAAAiB,SAAA,CAAAV,IAAA;cACAC,OAAA,CAAAC,GAAA,aAAAT,QAAA,CAAAV,IAAA;cACAwB,MAAA,CAAArB,qBAAA;cAAAwB,SAAA,CAAAZ,IAAA;cAAA;YAAA;cAAAY,SAAA,CAAAb,IAAA;cAAAa,SAAA,CAAAP,EAAA,GAAAO,SAAA;cAEAT,OAAA,CAAAa,KAAA,CAAAJ,SAAA,CAAAP,EAAA;YAAA;YAAA;cAAA,OAAAO,SAAA,CAAAN,IAAA;UAAA;QAAA,GAAAI,QAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}