{"ast":null,"code":"import TopNavbar from \"./TopNavbar.vue\";\nimport DashboardContent from \"./Content.vue\";\nimport MobileMenu from \"./MobileMenu\";\nexport default {\n  components: {\n    TopNavbar: TopNavbar,\n    DashboardContent: DashboardContent,\n    MobileMenu: MobileMenu\n  },\n  data: function data() {\n    return {\n      notificationCount: 0 // Propriété pour stocker le nombre de notifications\n    };\n  },\n  mounted: function mounted() {\n    this.fetchNotificationCount(); // Appel de la méthode lors du montage\n  },\n  methods: {\n    toggleSidebar: function toggleSidebar() {\n      if (this.$sidebar.showSidebar) {\n        this.$sidebar.displaySidebar(false);\n      }\n    },\n    fetchNotificationCount: function fetchNotificationCount() {\n      var _this = this;\n      // Remplacez '/api/departement/notifications/{id_departement}' par votre endpoint réel\n      axios.get(\"http://localhost:8081/api/notifications/\".concat(this.$route.params.id_departement)).then(function (response) {\n        _this.notificationCount = response.data; // Mettez à jour le compteur de notifications\n      }).catch(function (error) {\n        console.error(\"Erreur lors de la récupération des notifications:\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["TopNavbar","DashboardContent","MobileMenu","components","data","notificationCount","mounted","fetchNotificationCount","methods","toggleSidebar","$sidebar","showSidebar","displaySidebar","_this","axios","get","concat","$route","params","id_departement","then","response","catch","error","console"],"sources":["src/layout/dashboard/DashboardDept.vue"],"sourcesContent":["<template>\n    <div class=\"wrapper\">\n      <side-bar>\n        <template slot=\"links\">\n          <sidebar-link\n            to=\"/board/notifications\"\n            name=\"notifications \"\n            icon=\"ti-bell\"\n          />\n          <span class=\"notification-badge\" v-if=\"notificationCount > 0\">{{ notificationCount }}</span>\n          <sidebar-link\n            to=\"/board/departement/:id_departement/courriers\"\n            name=\"Waiting document list \"\n            icon=\"ti-view-list-alt\"\n          />\n          <sidebar-link\n            to=\"/board/courriersRecu\"\n            name=\"List of documents received by your departement\"\n            icon=\"ti-view-list-alt\"\n          />\n      \n          \n         </template>\n        \n      </side-bar>\n      <div class=\"main-panel\">\n        <top-navbar></top-navbar>\n  \n        <dashboard-content @click.native=\"toggleSidebar\"> </dashboard-content>\n  \n      </div>\n    </div>\n  </template>\n  <style lang=\"scss\"></style>\n  <script>\n  import TopNavbar from \"./TopNavbar.vue\";\n  import DashboardContent from \"./Content.vue\";\n  import MobileMenu from \"./MobileMenu\";\n  export default {\n    components: {\n      TopNavbar,\n      DashboardContent,\n      MobileMenu,\n    },\n    data() {\n      return {\n        notificationCount: 0, // Propriété pour stocker le nombre de notifications\n      };\n    },\n    mounted() {\n      this.fetchNotificationCount(); // Appel de la méthode lors du montage\n    },\n    methods: {\n      toggleSidebar() {\n        if (this.$sidebar.showSidebar) {\n          this.$sidebar.displaySidebar(false);\n        }\n      },\n    fetchNotificationCount() {\n      // Remplacez '/api/departement/notifications/{id_departement}' par votre endpoint réel\n      axios.get(`http://localhost:8081/api/notifications/${this.$route.params.id_departement}`)\n        .then(response => {\n          this.notificationCount = response.data; // Mettez à jour le compteur de notifications\n        })\n        .catch(error => {\n          console.error(\"Erreur lors de la récupération des notifications:\", error);\n        });\n    },\n    },\n  };\n  </script>\n  "],"mappings":"AAmCA,OAAAA,SAAA;AACA,OAAAC,gBAAA;AACA,OAAAC,UAAA;AACA;EACAC,UAAA;IACAH,SAAA,EAAAA,SAAA;IACAC,gBAAA,EAAAA,gBAAA;IACAC,UAAA,EAAAA;EACA;EACAE,IAAA,WAAAA,KAAA;IACA;MACAC,iBAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAC,sBAAA;EACA;EACAC,OAAA;IACAC,aAAA,WAAAA,cAAA;MACA,SAAAC,QAAA,CAAAC,WAAA;QACA,KAAAD,QAAA,CAAAE,cAAA;MACA;IACA;IACAL,sBAAA,WAAAA,uBAAA;MAAA,IAAAM,KAAA;MACA;MACAC,KAAA,CAAAC,GAAA,4CAAAC,MAAA,MAAAC,MAAA,CAAAC,MAAA,CAAAC,cAAA,GACAC,IAAA,WAAAC,QAAA;QACAR,KAAA,CAAAR,iBAAA,GAAAgB,QAAA,CAAAjB,IAAA;MACA,GACAkB,KAAA,WAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,sDAAAA,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}