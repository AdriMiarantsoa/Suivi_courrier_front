{"ast":null,"code":"import _regeneratorRuntime from \"/home/adrienna/Documents/Stage/Suivi_courrier_front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/adrienna/Documents/Stage/Suivi_courrier_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      formData: {\n        nom_role: ''\n      },\n      errors: null\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.formData.nom_role) {\n                _context.next = 3;\n                break;\n              }\n              _this.errors = [\"Please fill in all required fields\"];\n              return _context.abrupt(\"return\");\n            case 3:\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.post('http://localhost:8081/api/insert_role', _this.formData);\n            case 6:\n              _this.errors = null;\n              _this.formData = {\n                nom_role: ''\n              }; // Reset form data\n              _context.next = 14;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](3);\n              console.error('Error response:', _context.t0.response);\n              if (_context.t0.response && _context.t0.response.data && _context.t0.response.data.message) {\n                _this.errors = [_context.t0.response.data.message];\n              } else if (_context.t0.response && _context.t0.response.data && _context.t0.response.data.errors) {\n                _this.errors = _context.t0.response.data.errors;\n              } else {\n                _this.errors = [\"An unknown error occurred. Please try again later.\"];\n              }\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[3, 10]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","data","formData","nom_role","errors","methods","submitForm","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","post","t0","console","error","response","message","stop"],"sources":["src/pages/InsertRole.vue"],"sourcesContent":["<template>\n    <card class=\"card\" title=\"Insert Document\">\n      <div>\n        <form @submit.prevent>\n          <div v-if=\"errors\" class=\"alert alert-danger\">\n            <ul>\n              <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n              <fg-input\n                type=\"text\"\n                label=\"name\"\n                placeholder=\"Enter Role name\"\n                v-model=\"formData.nom_role\"\n              >\n              </fg-input>\n            </div>\n          </div>\n  \n          <div class=\"text-center\">\n            <p-button type=\"info\" round @click.native.prevent=\"submitForm\">\n              Insert\n            </p-button>\n          </div>\n          <div class=\"clearfix\"></div>\n        </form>\n      </div>\n    </card>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        formData: {\n          nom_role: '',\n        },\n        errors: null,\n      };\n    },\n    methods: {\n      async submitForm() {\n        if (!this.formData.nom_role) {\n          this.errors = [\"Please fill in all required fields\"];\n          return;\n        }\n        try {\n          await axios.post('http://localhost:8081/api/insert_role', this.formData);\n          this.errors = null;\n          this.formData = { nom_role: ''}; // Reset form data\n        } catch (error) {\n          console.error('Error response:', error.response);\n            if (error.response && error.response.data && error.response.data.message) {\n              this.errors = [error.response.data.message];\n            } else if (error.response && error.response.data && error.response.data.errors) {\n              this.errors = error.response.data.errors;\n            } else {\n              this.errors = [\"An unknown error occurred. Please try again later.\"];\n            }\n        }\n      },\n    },\n  };\n  </script>\n  <style scoped>\n  body, html {\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n    font-family: 'Arial', sans-serif;\n    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.95), #001122); /* Black to deep blue */\n  }\n  \n  .card {\n    background: rgba(240, 240, 232, 0.9); /* Background for the card */\n    border: 1px solid #ddd;\n    border-radius: 5px;\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n    margin-bottom: 20px;\n  }\n  \n  .card-header {\n    background-color: #343a40; /* Dark header */\n    color: white;\n    padding: 15px;\n    border-bottom: 1px solid #343a40;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n  }\n  \n  .card-body {\n    padding: 20px;\n  }\n  \n  .table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  \n  .table th, .table td {\n    border: 1px solid #ddd;\n    padding: 8px;\n    text-align: left;\n  }\n  \n  .table th {\n    background-color: #003366; /* Dark blue for header */\n    color: white; /* White text for header */\n    font-weight: bold;\n  }\n  \n  .table tbody tr:nth-child(even) {\n    background-color: rgba(240, 240, 240, 0.9); /* Lighter gray for even rows */\n  }\n  \n  .table tbody tr:hover {\n    background-color: rgba(184, 182, 182, 0.5); /* Light gray for hover effect */\n  }\n  \n  .btn {\n    padding: 10px 15px;\n    font-size: 14px;\n    border: none;\n    border-radius: 25px; /* Rounded button */\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  \n  .btn-show {\n    display: block;\n    width: 100%;\n    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.95), #003366); /* Gradient button */\n    color: white;\n  }\n  \n  .btn-show:hover {\n    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.85), #002244); /* Darker shade on hover */\n    transition: background 0.3s ease;\n  }\n  \n  .error {\n    color: red;\n    margin-bottom: 10px;\n  }\n  </style>"],"mappings":";;AAkCA,OAAAA,KAAA;AAEA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,QAAA;MACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,UAAA,WAAAA,WAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,OAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAA,IACAT,KAAA,CAAAL,QAAA,CAAAC,QAAA;gBAAAW,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACAT,KAAA,CAAAH,MAAA;cAAA,OAAAU,QAAA,CAAAG,MAAA;YAAA;cAAAH,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAIAhB,KAAA,CAAAkB,IAAA,0CAAAX,KAAA,CAAAL,QAAA;YAAA;cACAK,KAAA,CAAAH,MAAA;cACAG,KAAA,CAAAL,QAAA;gBAAAC,QAAA;cAAA;cAAAW,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAK,EAAA,GAAAL,QAAA;cAEAM,OAAA,CAAAC,KAAA,oBAAAP,QAAA,CAAAK,EAAA,CAAAG,QAAA;cACA,IAAAR,QAAA,CAAAK,EAAA,CAAAG,QAAA,IAAAR,QAAA,CAAAK,EAAA,CAAAG,QAAA,CAAArB,IAAA,IAAAa,QAAA,CAAAK,EAAA,CAAAG,QAAA,CAAArB,IAAA,CAAAsB,OAAA;gBACAhB,KAAA,CAAAH,MAAA,IAAAU,QAAA,CAAAK,EAAA,CAAAG,QAAA,CAAArB,IAAA,CAAAsB,OAAA;cACA,WAAAT,QAAA,CAAAK,EAAA,CAAAG,QAAA,IAAAR,QAAA,CAAAK,EAAA,CAAAG,QAAA,CAAArB,IAAA,IAAAa,QAAA,CAAAK,EAAA,CAAAG,QAAA,CAAArB,IAAA,CAAAG,MAAA;gBACAG,KAAA,CAAAH,MAAA,GAAAU,QAAA,CAAAK,EAAA,CAAAG,QAAA,CAAArB,IAAA,CAAAG,MAAA;cACA;gBACAG,KAAA,CAAAH,MAAA;cACA;YAAA;YAAA;cAAA,OAAAU,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IAEA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}