{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      utilisateurlist: [],\n      currentPage: 1,\n      itemsPerPage: 5\n    };\n  },\n  mounted() {\n    this.getListUserNotApprove();\n  },\n  computed: {\n    totalPages() {\n      return Math.ceil(this.utilisateurlist.length / this.itemsPerPage);\n    },\n    paginatedUsers() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      const end = start + this.itemsPerPage;\n      return this.utilisateurlist.slice(start, end);\n    }\n  },\n  methods: {\n    async getListUserNotApprove() {\n      try {\n        const response = await axios.get(\"http://localhost:8081/api/utilisateurs_non_approuves\");\n        this.utilisateurlist = response.data;\n        console.log(\"Données du view :\", this.utilisateurlist);\n      } catch (error) {\n        //      console.error(error);\n      }\n    },\n    async Approve(utilisateur) {\n      try {\n        const response = await axios.put(`http://localhost:8081/api/approve/${utilisateur.id_utilisateur}`);\n        console.log(\"update :\", response.data);\n        this.getListUserNotApprove();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    async DeleteUser(utilisateur) {\n      try {\n        const response = await axios.delete(`http://localhost:8081/api/deleteUtilisateur/${utilisateur.id_utilisateur}`);\n        console.log(\"delete :\", response.data);\n        this.getListUserNotApprove();\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    changePage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","utilisateurlist","currentPage","itemsPerPage","mounted","getListUserNotApprove","computed","totalPages","Math","ceil","length","paginatedUsers","start","end","slice","methods","response","get","console","log","error","Approve","utilisateur","put","id_utilisateur","DeleteUser","delete","changePage","page"],"sources":["src/pages/ListUserNotApproved.vue"],"sourcesContent":["<template>\n  <div class=\"ged-container\">\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h3>Utilisateur en attente d'approbation</h3>\n      </div>\n      <div class=\"card-body\">\n        <div v-if=\"utilisateurlist.length === 0\" class=\"empty-state\">\n          <i class=\"ti-folder empty-icon\"></i>\n          <p>Pas d'utilisateur en attente pour le moment.</p>\n        </div>\n        <div v-else class=\"table-responsive\">\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th>Nom</th>\n                <th>Departement</th>\n                <th>Role</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"utilisateur in paginatedUsers\" :key=\"utilisateur.id_utilisateur\">\n                <td>{{ utilisateur.nom_utilisateur }}</td>\n                <td>{{ utilisateur.nom_departement }}</td>\n                <td>{{ utilisateur.nom_role }}</td>\n                <td>\n                  <button class=\"btn btn-approve btn-space\" @click=\"Approve(utilisateur)\"><i class=\"ti-check\"></i></button>\n                  <button class=\"btn btn-delete btn-space\" @click=\"DeleteUser(utilisateur)\"><i class=\"ti-trash\"></i></button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <div class=\"pagination\" v-if=\"utilisateurlist && utilisateurlist.length > 0\">\n          <button @click=\"changePage(currentPage - 1)\" :disabled=\"currentPage === 1\">Précédent</button>\n          <span>Page {{ currentPage }} sur {{ totalPages }}</span>\n          <button @click=\"changePage(currentPage + 1)\" :disabled=\"currentPage === totalPages\">Suivant</button>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    data() {\n      return {\n        utilisateurlist: [],\n        currentPage: 1,\n        itemsPerPage: 5\n      };\n    },\n    mounted() {\n      this.getListUserNotApprove();\n    },\n    computed: {\n      totalPages() {\n        return Math.ceil(this.utilisateurlist.length / this.itemsPerPage);\n      },\n      paginatedUsers() {\n        const start = (this.currentPage - 1) * this.itemsPerPage;\n        const end = start + this.itemsPerPage;\n        return this.utilisateurlist.slice(start, end);\n      },\n    },\n    methods: {\n        async getListUserNotApprove() {\n            try {\n                const response = await axios.get(\"http://localhost:8081/api/utilisateurs_non_approuves\");\n                this.utilisateurlist = response.data;\n                console.log(\"Données du view :\",this.utilisateurlist);\n            } catch (error) {\n          //      console.error(error);\n            }\n        },\n        async Approve(utilisateur) {\n            try {\n                const response = await axios.put(`http://localhost:8081/api/approve/${utilisateur.id_utilisateur}`);\n                console.log(\"update :\",response.data);\n                this.getListUserNotApprove();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        async DeleteUser(utilisateur) {\n            try {\n                const response = await axios.delete(`http://localhost:8081/api/deleteUtilisateur/${utilisateur.id_utilisateur}`);\n                console.log(\"delete :\",response.data);\n                this.getListUserNotApprove();\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        changePage(page) {\n          if (page >= 1 && page <= this.totalPages) {\n            this.currentPage = page;\n          }\n        }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  .ged-container {\n    padding: 20px;\n    background-color: #f5f5f5;\n  }\n  .card {\n    background-color: #ffffff;\n    border: none;\n    border-radius: 8px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    margin-bottom: 20px;\n  }\n  .card-header {\n    color: #007BFF;\n    padding: 15px 20px;\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  .card-header h3 {\n    margin: 0;\n    font-size: 18px;\n    font-weight: 600;\n  }\n  .card-body {\n    padding: 20px;\n  }\n  .empty-state {\n    text-align: center;\n    padding: 40px 20px;\n    color: #6c757d;\n  }\n  .empty-icon {\n    font-size: 48px;\n    margin-bottom: 20px;\n  }\n  .table {\n    width: 100%;\n    border-collapse: separate;\n    border-spacing: 0 10px;\n  }\n  .table th {\n    background-color: #f8f9fa;\n    border: none;\n    padding: 12px;\n    font-weight: 600;\n    color: #495057;\n  }\n  .table td {\n    background-color: #ffffff;\n    border: none;\n    padding: 12px;\n    vertical-align: middle;\n  }\n  .table tbody tr {\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); \n    transition: all 0.3s ease;\n  }\n  .table tbody tr:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n  .btn-approve {\n    background-color: #28a745;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  .btn-approve:hover {\n    background-color: #218838;\n  }\n  .btn-delete {\n    background-color: #e01d0f;\n    color: white;\n    border: none;\n    padding: 8px 16px;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n  }\n  .btn-delete:hover {\n    background-color: #cc2014;\n  }\n  .btn-space {\n    margin-right: 10px; \n  }\n  /* Styles pour la pagination */\n.pagination {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n.pagination button {\n  margin: 0 5px;\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #007BFF;\n  color: white;\n  cursor: pointer;\n}\n.pagination button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n.pagination span {\n  align-self: center;\n  margin: 0 10px;\n}\n  </style>"],"mappings":"AA+CA,OAAAA,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,eAAA;MACAC,WAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,qBAAA;EACA;EACAC,QAAA;IACAC,WAAA;MACA,OAAAC,IAAA,CAAAC,IAAA,MAAAR,eAAA,CAAAS,MAAA,QAAAP,YAAA;IACA;IACAQ,eAAA;MACA,MAAAC,KAAA,SAAAV,WAAA,aAAAC,YAAA;MACA,MAAAU,GAAA,GAAAD,KAAA,QAAAT,YAAA;MACA,YAAAF,eAAA,CAAAa,KAAA,CAAAF,KAAA,EAAAC,GAAA;IACA;EACA;EACAE,OAAA;IACA,MAAAV,sBAAA;MACA;QACA,MAAAW,QAAA,SAAAjB,KAAA,CAAAkB,GAAA;QACA,KAAAhB,eAAA,GAAAe,QAAA,CAAAhB,IAAA;QACAkB,OAAA,CAAAC,GAAA,2BAAAlB,eAAA;MACA,SAAAmB,KAAA;QACA;MAAA;IAEA;IACA,MAAAC,QAAAC,WAAA;MACA;QACA,MAAAN,QAAA,SAAAjB,KAAA,CAAAwB,GAAA,sCAAAD,WAAA,CAAAE,cAAA;QACAN,OAAA,CAAAC,GAAA,aAAAH,QAAA,CAAAhB,IAAA;QACA,KAAAK,qBAAA;MACA,SAAAe,KAAA;QACAF,OAAA,CAAAE,KAAA,CAAAA,KAAA;MACA;IACA;IACA,MAAAK,WAAAH,WAAA;MACA;QACA,MAAAN,QAAA,SAAAjB,KAAA,CAAA2B,MAAA,gDAAAJ,WAAA,CAAAE,cAAA;QACAN,OAAA,CAAAC,GAAA,aAAAH,QAAA,CAAAhB,IAAA;QACA,KAAAK,qBAAA;MACA,SAAAe,KAAA;QACAF,OAAA,CAAAE,KAAA,CAAAA,KAAA;MACA;IACA;IACAO,WAAAC,IAAA;MACA,IAAAA,IAAA,SAAAA,IAAA,SAAArB,UAAA;QACA,KAAAL,WAAA,GAAA0B,IAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}