(function(){"use strict";var t={5363:function(t,e,r){r(3792),r(3362),r(9085),r(9391);var a=r(5471),n=function(){var t=this,e=t._self._c;return e("div",{class:{"nav-open":t.$sidebar.showSidebar}},[e("notifications"),e("router-view")],1)},s=[],o={},i=o,l=r(1656),c=(0,l.A)(i,n,s,!1,null,null,null),u=c.exports,d=r(173),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("side-bar",[e("template",{slot:"links"},[e("sidebar-link",{attrs:{to:"/dashboard/document_register",name:"Save Document ",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/dashboard/document_validation",name:"Document validation ",icon:"ti-view-list-alt"}})],1)],2),e("div",{staticClass:"main-panel"},[e("top-navbar"),e("dashboard-content",{nativeOn:{click:function(e){return t.toggleSidebar.apply(null,arguments)}}})],1)],1)},m=[],v=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-expand-lg navbar-light"},[e("div",{staticClass:"container-fluid"},[t.user?e("a",{staticClass:"navbar-brand",staticStyle:{color:"rgb(1, 31, 65)"}},[t._v(t._s(t.user.nom_utilisateur))]):t._e(),e("button",{staticClass:"navbar-toggler navbar-burger",attrs:{type:"button","aria-expanded":t.$sidebar.showSidebar,"aria-label":"Toggle navigation"},on:{click:t.toggleSidebar}},[e("span",{staticClass:"navbar-toggler-bar"}),e("span",{staticClass:"navbar-toggler-bar"}),e("span",{staticClass:"navbar-toggler-bar"})]),e("div",{staticClass:"collapse navbar-collapse"},[e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link"},[e("p",{staticClass:"nav-item"},[t._v(t._s(t.routeName))])])]),e("li",{staticClass:"nav-item"},[e("p-button",{attrs:{type:"danger"},nativeOn:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[e("a",[e("small",[t._v("Log out")])])])],1)])])])])},f=[],h=r(7546),_=r(4634),g=(r(4114),r(4782),r(2010),r(4335)),b={computed:{routeName:function(){var t=this.$route.name;return this.capitalizeFirstLetter(t)}},data:function(){return{activeNotifications:!1,user:null}},created:function(){this.fetchUserInfo()},methods:{fetchUserInfo:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:r=e.sent,t.user=r.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error("Error fetching user information:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},toggleNotificationDropDown:function(){this.activeNotifications=!this.activeNotifications},closeDropDown:function(){this.activeNotifications=!1},toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},hideSidebar:function(){this.$sidebar.displaySidebar(!1)},logout:function(){localStorage.clear("authToken"),this.$router.push("/")}}},C=b,w=(0,l.A)(C,v,f,!1,null,null,null),x=w.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid"},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)])},k=[],A={},D=A,S=(0,l.A)(D,y,k,!1,null,null,null),N=S.exports,L=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"nav navbar-nav nav-mobile-menu"},[t._t("default")],2)},I=[],P={},$=P,M=(0,l.A)($,L,I,!1,null,null,null),F=M.exports,T={components:{TopNavbar:x,DashboardContent:N,MobileMenu:F},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},E=T,O=(0,l.A)(E,p,m,!1,null,null,null),R=O.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("side-bar",[e("template",{slot:"links"},[t.notificationCount>0?[e("sidebar-link",{attrs:{to:"/board/notifications",name:"notifications",icon:"ti-bell"}}),e("span",{staticClass:"notification-badge"},[t._v(t._s(t.notificationCount))])]:t._e(),e("sidebar-link",{attrs:{to:"/board/departement/:id_departement/courriers",name:"Waiting document list",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/board/courriersRecu",name:"List of documents received by your department",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/board/statistique",name:"document statistique of your departement",icon:"ti-view-list-alt"}})],2)],2),e("div",{staticClass:"main-panel"},[e("top-navbar"),e("dashboard-content",{nativeOn:{click:function(e){return t.toggleSidebar.apply(null,arguments)}}})],1)],1)},j=[],B={components:{TopNavbar:x,DashboardContent:N,MobileMenu:F},data:function(){return{notificationCount:0,user:null,departement:""}},mounted:function(){this.fetchNotificationCount()},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)},fetchNotificationCount:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a,n;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if(r=e.sent,t.user=r.data,t.user){e.next=8;break}return console.error("User data is missing"),e.abrupt("return");case 8:return e.next=10,g.A.get("http://localhost:8081/api/departement/utilisateur/".concat(t.user.id_utilisateur));case 10:return a=e.sent,t.departement=a.data,console.log("Données du département :",t.departement),e.next=15,g.A.get("http://localhost:8081/api/notifications/".concat(t.departement));case 15:n=e.sent,t.notificationCount=n.data,e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.error("Erreur lors de la récupération des notifications:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()}}},W=B,z=(0,l.A)(W,U,j,!1,null,null,null),G=z.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("side-bar",{staticClass:"custom-sidebar"},[e("template",{slot:"links"},[e("sidebar-link",{attrs:{to:"/adminboard/insert_role",name:"Insertion of role ",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/adminboard/insert_departement",name:"Insertion of departement ",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/adminboard/users",name:"List of users not approved ",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/adminboard/list_role",name:"List of roles ",icon:"ti-view-list-alt"}}),e("sidebar-link",{attrs:{to:"/adminboard/list_departement",name:"List of departements",icon:"ti-view-list-alt"}}),e("p-button",{staticClass:"full-width-btn",attrs:{type:"danger"},nativeOn:{click:function(e){return e.preventDefault(),t.logout.apply(null,arguments)}}},[e("a",[e("small",[t._v("Log out")])])])],1)],2),e("div",{staticClass:"main-panel"},[e("dashboard-content",{nativeOn:{click:function(e){return t.toggleSidebar.apply(null,arguments)}}})],1)],1)},q=[],V={components:{DashboardContent:N,MobileMenu:F},methods:{toggleSidebar:function(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)},logout:function(){localStorage.clear("authToken"),this.$router.push("/"),this.$toast.add({severity:"success",summary:"Déconnexion réussie",detail:"Vous avez été déconnecté avec succès",life:3e3})}}},J=V,H=(0,l.A)(J,Y,q,!1,null,"f4af1af0",null),Z=H.exports,K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contact-us full-screen"},[e("nav",{staticClass:"navbar navbar-ct-default",attrs:{role:"navigation-demo"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-header"},[t._m(0),e("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/"}}},[t._v("Site title")])],1),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navigation-example-2"}},[e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1)])])])]),t._m(1),e("footer",{staticClass:"footer-demo"},[e("div",{staticClass:"container"},[e("nav",{staticClass:"pull-left"},[e("ul",[e("li",[e("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),e("li",[e("router-link",{attrs:{to:{path:"/register"}}},[t._v("Register")])],1)])]),t._m(2)])])])},Q=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navigation-example-2"}},[e("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper wrapper-full-page section content"},[e("div",{},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-md-offset-2 text-center"},[e("h2",{staticClass:"title text-danger"},[t._v("404 Not Found")]),e("h2",{staticClass:"title"},[t._v(" Oops! It seems that this page does not exist. ")])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"copyright pull-right"},[t._v(" © 2017, made with "),e("i",{staticClass:"fa fa-heart heart"}),t._v(" by Paper admin ")])}],X={},tt=X,et=(0,l.A)(tt,K,Q,!1,null,null,null),rt=et.exports,at=function(){var t=this,e=t._self._c;return e("card",{attrs:{title:"Notifications","sub-title":"Documents pending for more than 24 hours"}},[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[t.courriers.length>0?e("div",{staticClass:"alert alert-danger alert-with-icon mt-3",attrs:{"data-notify":"container"}},[e("span",{staticClass:"ti-bell",attrs:{"data-notify":"icon"}}),e("span",[t._v("Some documents have not been received for more than 24 hours.")])]):t._e(),e("table",{staticClass:"table table-hover"},[e("thead",[e("tr",[e("th",[t._v("Date of Reception")]),e("th",[t._v("ID")]),e("th",[t._v("Name")]),e("th",[t._v("Sender")])])]),e("tbody",[t._l(t.courriers,(function(r){return e("tr",{key:r.id_courrier},[e("td",[t._v(t._s(r.date_reception))]),e("td",[e("router-link",{attrs:{to:{name:"Waiting document list",params:{id:r.id_courrier}}}},[t._v(" "+t._s(r.id_courrier)+" ")])],1),e("td",[t._v(t._s(r.nom_courrier))]),e("td",[t._v(t._s(r.expediteur))])])})),0===t.courriers.length?e("tr",[e("td",{staticClass:"text-center",attrs:{colspan:"4"}},[t._v("No documents pending for more than 24 hours.")])]):t._e()],2)])])])])])},nt=[],st={data:function(){return{courriers:[],departementId:"",user:null}},mounted:function(){this.getCourriersAlert()},methods:{getCourriersAlert:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a,n;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if(r=e.sent,t.user=r.data,t.user){e.next=8;break}return console.error("User data is missing"),e.abrupt("return");case 8:return e.next=10,g.A.get("http://localhost:8081/api/departement/utilisateur/".concat(t.user.id_utilisateur));case 10:return a=e.sent,t.departementId=a.data,e.next=14,g.A.get("http://localhost:8081/api/departement/".concat(t.departementId,"/alerte"));case 14:n=e.sent,t.courriers=n.data,e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](0),console.error("Error retrieving alert couriers:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))()}}},ot=st,it=(0,l.A)(ot,at,nt,!1,null,"c0d1fa70",null),lt=it.exports,ct=(r(2675),r(9463),r(2008),r(2062),r(6099),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",[t._v(t._s(t.table1.title))]),e("p",[t._v(t._s(t.table1.subTitle))])]),t.errors?e("div",{staticClass:"alert alert-danger"},[e("ul",t._l(t.errors,(function(r){return e("li",{key:r},[t._v(t._s(r))])})),0)]):t._e(),e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table"},[e("thead",[e("tr",t._l(t.tableColumns,(function(r){return e("th",{key:r},[t._v(t._s(r))])})),0)]),e("tbody",t._l(t.courriersEnAttente,(function(r){return e("tr",{key:r.id_courrier},[e("td",[t._v(t._s(r.id_courrier))]),e("td",[t._v(t._s(r.date_reception))]),e("td",[t._v(t._s(r.nom_courrier))]),e("td",{staticClass:"description"},[t._v(t._s(r.description))]),e("td",[t._v(t._s(r.expediteur))]),e("td",[r.dept_destinataire&&r.dept_destinataire.nom_departement?e("span",[t._v(" "+t._s(r.dept_destinataire.nom_departement)+" ")]):t._e()]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-confirm",on:{click:function(e){return t.confirmCourrier(r)}}},[t._v("Confirm")]),e("button",{staticClass:"btn btn-update",on:{click:function(e){return t.showUpdateForm(r)}}},[t._v("Update")])])])])})),0)])])])])]),t.showForm?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("span",{staticClass:"close",on:{click:t.hideUpdateForm}},[t._v("×")]),e("h3",{staticStyle:{color:"#FF5733"}},[t._v("Update Courrier")]),e("form",{on:{submit:function(e){return e.preventDefault(),t.submitUpdate.apply(null,arguments)}}},[t.errors?e("div",{staticClass:"alert alert-danger"},[e("ul",t._l(t.errors,(function(r){return e("li",{key:r},[t._v(t._s(r))])})),0)]):t._e(),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"date_reception"}},[t._v("Date of Reception")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCourrier.date_reception,expression:"selectedCourrier.date_reception"}],attrs:{type:"date",id:"date_reception"},domProps:{value:t.selectedCourrier.date_reception},on:{input:function(e){e.target.composing||t.$set(t.selectedCourrier,"date_reception",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nom_courrier"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCourrier.nom_courrier,expression:"selectedCourrier.nom_courrier"}],attrs:{type:"text",id:"nom_courrier"},domProps:{value:t.selectedCourrier.nom_courrier},on:{input:function(e){e.target.composing||t.$set(t.selectedCourrier,"nom_courrier",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.selectedCourrier.description,expression:"selectedCourrier.description"}],attrs:{id:"description",rows:"5"},domProps:{value:t.selectedCourrier.description},on:{input:function(e){e.target.composing||t.$set(t.selectedCourrier,"description",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"expediteur"}},[t._v("Expeditor")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCourrier.expediteur,expression:"selectedCourrier.expediteur"}],attrs:{type:"text",id:"expediteur"},domProps:{value:t.selectedCourrier.expediteur},on:{input:function(e){e.target.composing||t.$set(t.selectedCourrier,"expediteur",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"dept_destinataire"}},[t._v("Departement")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCourrier.dept_destinataire,expression:"selectedCourrier.dept_destinataire"}],attrs:{id:"dept_destinataire"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.selectedCourrier,"dept_destinataire",e.target.multiple?r:r[0])}}},t._l(t.departements,(function(r){return e("option",{key:r.id,domProps:{value:r}},[t._v(t._s(r.nom_departement))])})),0)]),e("button",{staticClass:"btn btn-submit",attrs:{type:"submit"}},[t._v("Submit")])])])]):t._e()])}),ut=[],dt=r(7180),pt={data:function(){return{courriersEnAttente:[],table1:{title:"Table in Waiting for Registration",subTitle:"List of Couriers Awaiting Registration"},errors:null,tableColumns:["Id","Date of Reception","Name","Description","Expeditor","Departement","Actions"],showForm:!1,selectedCourrier:{},departements:[]}},mounted:function(){this.getCourriersEnAttente(),this.getDepartements()},methods:{getCourriersEnAttente:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/courriers_attente");case 3:r=e.sent,console.log(r.data),t.courriersEnAttente=r.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getDepartements:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/departements");case 3:r=e.sent,t.departements=r.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},confirmCourrier:function(t){var e=this;return(0,_.A)((0,h.A)().mark((function r(){return(0,h.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.error=null,r.next=4,g.A.put("http://localhost:8081/api/confirm_courrier",t);case 4:r.sent,e.getCourriersEnAttente(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),r.t0.response&&r.t0.response.data&&r.t0.response.data.errors?e.errors=r.t0.response.data.errors:e.errors=["Une erreur est survenue"];case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},showUpdateForm:function(t){console.log("showUpdateForm called with:",t),this.selectedCourrier=(0,dt.A)({},t),this.showForm=!0,console.log("showForm set to true")},hideUpdateForm:function(){this.showForm=!1},submitUpdate:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.selectedCourrier.date_reception&&t.selectedCourrier.nom_courrier&&t.selectedCourrier.expediteur&&t.selectedCourrier.dept_destinataire){e.next=3;break}return t.errors=["Please fill in all fields"],e.abrupt("return");case 3:return e.prev=3,r={id_courrier:t.selectedCourrier.id_courrier,date_reception:t.selectedCourrier.date_reception,nom_courrier:t.selectedCourrier.nom_courrier,description:t.selectedCourrier.description,expediteur:t.selectedCourrier.expediteur,statut:t.selectedCourrier.statut,dept_destinataire:t.selectedCourrier.dept_destinataire},t.errors=null,console.log("Données du formulaire :",r),e.next=9,g.A.put("http://localhost:8081/api/update_courrier/".concat(t.selectedCourrier.id_courrier),r,{});case 9:a=e.sent,console.log(a.data),t.hideUpdateForm(),t.getCourriersEnAttente(),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?t.errors=[e.t0.response.data.message]:e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?t.errors=e.t0.response.data.errors:t.errors=["An unknown error occurred. Please try again later."];case 18:case"end":return e.stop()}}),e,null,[[3,15]])})))()}},watch:{showForm:function(t){console.log("showForm changed to:",t)}}},mt=pt,vt=(0,l.A)(mt,ct,ut,!1,null,"29fbbaac",null),ft=vt.exports,ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-page"},[e("div",{ref:"left",staticClass:"left"},[e("h2",[t._v(t._s(t.isLogin?"Sign In":"Sign Up"))]),t.erreurMessage?e("div",{staticClass:"error"},[t._v(t._s(t.erreurMessage))]):t._e(),e("form",{on:{submit:function(e){e.preventDefault(),t.isLogin?t.login():t.signUp()}}},[e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"nom"}},[t._v("USERNAME")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nom_utilisateur,expression:"nom_utilisateur"}],attrs:{type:"text",id:"nom",placeholder:"Username"},domProps:{value:t.nom_utilisateur},on:{input:function(e){e.target.composing||(t.nom_utilisateur=e.target.value)}}})]),e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email",placeholder:"Enter your mail"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),!t.isValidEmail(t.email)&&t.email?e("div",{staticClass:"error"},[t._v("e-mail invalide")]):t._e()]),e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"mdp"}},[t._v("PASSWORD")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mot_de_passe,expression:"mot_de_passe"}],attrs:{type:"password",id:"mdp",placeholder:"Password"},domProps:{value:t.mot_de_passe},on:{input:function(e){e.target.composing||(t.mot_de_passe=e.target.value)}}})]),t.isLogin?t._e():e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"confirm-mdp"}},[t._v("Confirm Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmMdp,expression:"confirmMdp"}],attrs:{type:"password",id:"confirm-mdp",placeholder:"Re-enter your password"},domProps:{value:t.confirmMdp},on:{input:function(e){e.target.composing||(t.confirmMdp=e.target.value)}}})]),t.isLogin?t._e():e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"role"}},[t._v("Role")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"styled-select",attrs:{id:"role"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.role=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select your role")]),t._l(t.roles,(function(r){return e("option",{key:r.id,domProps:{value:r}},[t._v(" "+t._s(r.nom_role)+" ")])}))],2)]),t.isLogin||"Secretaire"===t.role.nom_role?t._e():e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"departement"}},[t._v("Department")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.departement,expression:"departement"}],staticClass:"styled-select",attrs:{id:"departement"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.departement=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select your department")]),t._l(t.departements,(function(r){return e("option",{key:r.id,domProps:{value:r}},[t._v(" "+t._s(r.nom_departement)+" ")])}))],2)]),t.isLogin?e("div",{staticClass:"remember-me"},[e("router-link",{staticClass:"forgot-password",attrs:{to:{name:"forget_password"}}},[t._v("Forgot Password?")])],1):t._e(),e("button",{staticClass:"sign-in-btn",attrs:{type:"submit"}},[t._v(t._s(t.isLogin?"Sign In":"Sign Up"))])])]),e("div",{staticClass:"right"},[e("h2",{staticStyle:{color:"#FF5733"}},[t._v("Document Tracking")]),e("p",[t._v("Welcome to "+t._s(t.isLogin?"Sign In":"Sign Up"))]),e("button",{staticClass:"sign-up-btn",on:{click:t.toggleMode}},[t._v(t._s(t.isLogin?"Sign Up":"Sign In"))])])])])},_t=[],gt=(r(7495),r(906),{name:"connection_user",data:function(){return{nom_utilisateur:"",mot_de_passe:"",confirmMdp:"",role:"",email:"",departement:"",isLogin:!0,departements:[],roles:[],erreurMessage:""}},mounted:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getDepartements();case 2:return e.next=4,t.getRoles();case 4:console.log("Départements chargés:",t.departements),console.log("Rôles chargés:",t.roles);case 6:case"end":return e.stop()}}),e)})))()},methods:{getDepartements:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/departements");case 3:r=e.sent,t.departements=r.data,console.log(t.departements),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getRoles:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/roles");case 3:r=e.sent,t.roles=r.data,console.log("Roles:",t.roles),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},login:function(){var t=this,e=new FormData;e.append("nom_utilisateur",this.nom_utilisateur),e.append("mot_de_passe",this.mot_de_passe),e.append("email",this.email),g.A.post("http://localhost:8081/api/login",e).then((function(e){console.log(e.data);var r=e.data.token;localStorage.setItem("authToken",r);var a=e.data.redirect;t.$router.push(a)})).catch((function(e){console.error(e),e.response?t.erreurMessage=e.response.data:t.erreurMessage="Une erreur est survenue lors de la connexion."}))},signUp:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.mot_de_passe!==t.confirmMdp){e.next=23;break}return r={nom_utilisateur:t.nom_utilisateur,mot_de_passe:t.confirmMdp,email:t.email,departement:t.departement||null,role:t.role},console.log("Sending Reception Data:",r),e.prev=3,e.next=6,g.A.post("http://localhost:8081/api/signup",r);case 6:a=e.sent,console.log(a.data),t.isLogin=!0,t.nom_utilisateur="",t.mot_de_passe="",t.confirmMdp="",t.email="",t.role="",t.departement="",e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](3),console.error("Erreur lors de l'inscription:",e.t0),e.t0.response?t.erreurMessage=e.t0.response.data:t.erreurMessage="Une erreur est survenue lors de la connexion.";case 21:e.next=24;break;case 23:t.erreurMessage="password does not match";case 24:case"end":return e.stop()}}),e,null,[[3,17]])})))()},toggleMode:function(){this.isLogin=!this.isLogin},isValidEmail:function(t){var e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)}}}),bt=gt,Ct=(0,l.A)(bt,ht,_t,!1,null,"52d60213",null),wt=Ct.exports,xt=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card",attrs:{title:"Insert Document"}},[e("div",[e("form",{on:{submit:function(t){t.preventDefault()}}},[t.errors?e("div",{staticClass:"alert alert-danger"},[e("ul",t._l(t.errors,(function(r){return e("li",{key:r},[t._v(t._s(r))])})),0)]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("fg-input",{attrs:{type:"text",label:"name",placeholder:"Enter Document name"},model:{value:t.formData.nom_courrier,callback:function(e){t.$set(t.formData,"nom_courrier",e)},expression:"formData.nom_courrier"}}),e("fg-input",{attrs:{type:"text",label:"expeditor",placeholder:"Enter Document expeditor"},model:{value:t.formData.expediteur,callback:function(e){t.$set(t.formData,"expediteur",e)},expression:"formData.expediteur"}}),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:"form-control border-input",attrs:{name:"description",label:"description",placeholder:"Enter Document description",rows:"5"},domProps:{value:t.formData.description},on:{input:function(e){e.target.composing||t.$set(t.formData,"description",e.target.value)}}}),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"dept"}},[t._v("Department")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.dept_destinataire,expression:"formData.dept_destinataire"}],staticClass:"form-control",attrs:{id:"dept",placeholder:"Select a department"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"dept_destinataire",e.target.multiple?r:r[0])}}},t._l(t.depts,(function(r){return e("option",{key:r.id_departement,domProps:{value:r}},[t._v(" "+t._s(r.nom_departement)+" ")])})),0)])],1)]),e("div",{staticClass:"text-center"},[e("p-button",{staticStyle:{"background-color":"rgb(1, 31, 65)"},attrs:{round:""},nativeOn:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v(" Insert ")])],1),e("div",{staticClass:"clearfix"})])])])},yt=[],kt={data:function(){return{formData:{nom_courrier:"",expediteur:"",description:"",dept_destinataire:""},depts:[],errors:null}},mounted:function(){var t=this;g.A.get("http://localhost:8081/api/departements").then((function(e){t.depts=e.data})).catch((function(t){console.error("Error fetching departments:",t)}))},methods:{submitForm:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formData.nom_courrier&&t.formData.expediteur&&t.formData.dept_destinataire){e.next=3;break}return t.errors=["Please fill in all required fields"],e.abrupt("return");case 3:return e.prev=3,e.next=6,g.A.post("http://localhost:8081/api/insert_courrier",t.formData);case 6:t.errors=null,t.formData={nom_courrier:"",expediteur:"",description:"",dept_destinataire:""},e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("Error response:",e.t0.response),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?t.errors=[e.t0.response.data.message]:e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?t.errors=e.t0.response.data.errors:t.errors=["An unknown error occurred. Please try again later."];case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}},At=kt,Dt=(0,l.A)(At,xt,yt,!1,null,null,null),St=Dt.exports,Nt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("h3",{staticStyle:{color:"#003366"}},[t._v(t._s(this.departementName))])]),e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.courriersDepartement,(function(r){return e("tr",{key:r.id_courrier},[e("td",[t._v(t._s("enregistre"===r.statut?"awaiting processing":r.statut))]),e("td",[t._v(t._s(r.nom_courrier))]),e("td",[t._v(t._s(r.expediteur))]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-show",on:{click:function(e){return t.ShowCourrier(r)}}},[t._v("see details")]),"direction"===t.departementName?e("button",{staticClass:"btn btn-transfer",on:{click:function(e){return t.ShowTransferForm(r)}}},[t._v("Transfer")]):t._e()])])])})),0)])])])])]),t.showForm?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("span",{staticClass:"close",on:{click:t.hideDetails}},[t._v("×")]),e("h2",[t._v("Document Details")]),e("h3",[t._v("Courier Information")]),e("form",{on:{submit:function(t){t.preventDefault()}}},[e("section",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"id"}},[t._v("ID")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id_courrier.id_courrier,expression:"id_courrier.id_courrier"}],attrs:{type:"text",readonly:""},domProps:{value:t.id_courrier.id_courrier},on:{input:function(e){e.target.composing||t.$set(t.id_courrier,"id_courrier",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nom_courrier"}},[t._v("Courier Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id_courrier.nom_courrier,expression:"id_courrier.nom_courrier"}],attrs:{type:"text",readonly:""},domProps:{value:t.id_courrier.nom_courrier},on:{input:function(e){e.target.composing||t.$set(t.id_courrier,"nom_courrier",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"expediteur"}},[t._v("Expeditor")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id_courrier.expediteur,expression:"id_courrier.expediteur"}],attrs:{type:"text",readonly:""},domProps:{value:t.id_courrier.expediteur},on:{input:function(e){e.target.composing||t.$set(t.id_courrier,"expediteur",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("Description")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.id_courrier.description,expression:"id_courrier.description"}],attrs:{id:"description",rows:"5",readonly:""},domProps:{value:t.id_courrier.description},on:{input:function(e){e.target.composing||t.$set(t.id_courrier,"description",e.target.value)}}})])]),e("div",{staticClass:"text-center"},[e("p-button",{staticStyle:{"background-color":"rgb(1, 31, 65)"},attrs:{round:""},nativeOn:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v(" Received ")])],1)])])]):t._e(),t.showTransferForm?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("span",{staticClass:"close",on:{click:t.hideTransferForm}},[t._v("×")]),e("h2",[t._v("Transfer document")]),e("form",{on:{submit:function(t){t.preventDefault()}}},[e("section",[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"id"}},[t._v("ID")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id_courrier.id_courrier,expression:"id_courrier.id_courrier"}],attrs:{type:"text",readonly:""},domProps:{value:t.id_courrier.id_courrier},on:{input:function(e){e.target.composing||t.$set(t.id_courrier,"id_courrier",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nom_courrier"}},[t._v("Name")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.id_courrier.nom_courrier,expression:"id_courrier.nom_courrier"}],attrs:{type:"text",readonly:""},domProps:{value:t.id_courrier.nom_courrier},on:{input:function(e){e.target.composing||t.$set(t.id_courrier,"nom_courrier",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"departement"}},[t._v("Departement")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDepartement,expression:"selectedDepartement"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDepartement=e.target.multiple?r:r[0]}}},t._l(t.departements,(function(r){return e("option",{key:r.id_departement,domProps:{value:r}},[t._v(t._s(r.nom_departement))])})),0)])]),e("div",{staticClass:"text-center"},[e("p-button",{staticStyle:{"background-color":"rgb(231, 21, 21)"},attrs:{round:""},nativeOn:{click:function(e){return e.preventDefault(),t.submitTransferForm.apply(null,arguments)}}},[t._v(" Submit ")])],1)])])]):t._e()])},Lt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Status")]),e("th",[t._v("Name")]),e("th",[t._v("Expeditor")]),e("th",[t._v("Action")])])])}],It=(r(8706),{data:function(){return{courriersDepartement:[],departementName:"",departementId:"",recu_par:null,showForm:!1,id_courrier:{},showTransferForm:!1,selectedDepartement:null,departements:[]}},mounted:function(){this.getCourriersDepartement()},methods:{getCourriersDepartement:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a,n,s;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if(r=e.sent,t.recu_par=r.data,t.recu_par){e.next=8;break}return console.error("User data is missing"),e.abrupt("return");case 8:return e.next=10,g.A.get("http://localhost:8081/api/departement/utilisateur/".concat(t.recu_par.id_utilisateur));case 10:return a=e.sent,t.departementId=a.data,console.log("id_departement:",t.departementId),e.next=15,g.A.get("http://localhost:8081/api/departement/".concat(t.departementId));case 15:return n=e.sent,t.departementName=n.data,console.log("nom_departement:",t.departementName),e.next=20,g.A.get("http://localhost:8081/api/departement/".concat(t.departementId,"/courriers"));case 20:s=e.sent,console.log(s.data),t.courriersDepartement=s.data,e.next=28;break;case 25:e.prev=25,e.t0=e["catch"](0),console.error(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))()},ShowCourrier:function(t){console.log("showUpdateForm called with:",t),this.id_courrier=(0,dt.A)({},t),this.showForm=!0,console.log("showForm set to true")},hideDetails:function(){this.showForm=!1},submitForm:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.id_courrier),console.log(t.recu_par),e.prev=2,e.next=5,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 5:if(r=e.sent,t.recu_par=r.data,t.recu_par){e.next=10;break}return console.error("User data is missing"),e.abrupt("return");case 10:return a={id_courrier:t.id_courrier,recu_par:t.recu_par,date_traitement:new Date},console.log("Sending Reception Data:",a),e.next=14,g.A.post("http://localhost:8081/api/insert_reception",a,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 14:t.hideDetails(),t.getCourriersDepartement(),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](2),console.error("Error during form submission:",e.t0.response?e.t0.response.data:e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})))()},ShowTransferForm:function(t){var e=this;return(0,_.A)((0,h.A)().mark((function r(){var a;return(0,h.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("ShowTransferForm called with:",t),e.id_courrier=(0,dt.A)({},t),e.showTransferForm=!0,console.log("showTransferForm set to true"),r.prev=4,r.next=7,g.A.get("http://localhost:8081/api/departements");case 7:a=r.sent,e.departements=a.data,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](4),console.error(r.t0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})))()},hideTransferForm:function(){this.showTransferForm=!1},submitTransferForm:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.id_courrier),console.log(t.selectedDepartement),e.prev=2,r={id_courrier:t.id_courrier.id_courrier,dept_destinataire:t.selectedDepartement},console.log("Sending Transfer Data:",r),e.next=7,g.A.put("http://localhost:8081/api/transfer_courrier?id_courrier=".concat(r.id_courrier,"&dept_destinataire=").concat(r.dept_destinataire.id_departement),null,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 7:t.hideTransferForm(),t.getCourriersDepartement(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.error("Error during form submission:",e.t0.response?e.t0.response.data:e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()}}}),Pt=It,$t=(0,l.A)(Pt,Nt,Lt,!1,null,"459f0b5c",null),Mt=$t.exports,Ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-card"},[e("h2",[t._v("Welcome")]),e("p",[t._v("Please login to Admin Dashboard.")]),t.erreurMessage?e("div",{staticClass:"error"},[t._v(t._s(t.erreurMessage))]):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.login()}}},[e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"nom"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nom_admin,expression:"nom_admin"}],attrs:{type:"text",id:"nom",placeholder:"Username"},domProps:{value:t.nom_admin},on:{input:function(e){e.target.composing||(t.nom_admin=e.target.value)}}})]),e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"mdp"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mot_de_passe,expression:"mot_de_passe"}],attrs:{type:"password",id:"mdp",placeholder:"Password"},domProps:{value:t.mot_de_passe},on:{input:function(e){e.target.composing||(t.mot_de_passe=e.target.value)}}})]),e("button",{staticClass:"login-btn",attrs:{type:"submit"}},[t._v("LOGIN")])])])])},Tt=[],Et={name:"connection_user",data:function(){return{nom_admin:"",mot_de_passe:"",erreurMessage:""}},methods:{login:function(){var t=this,e=new FormData;e.append("nom_admin",this.nom_admin),e.append("mot_de_passe",this.mot_de_passe),g.A.post("http://localhost:8081/api/admin/login_admin",e).then((function(e){console.log(e.data);var r=e.data.token;localStorage.setItem("authToken",r);e.data.redirect;t.$router.push({name:"List of users not approved"})})).catch((function(e){console.error(e),e.response?t.erreurMessage=e.response.data:t.erreurMessage="Une erreur est survenue lors de la connexion."}))}}},Ot=Et,Rt=(0,l.A)(Ot,Ft,Tt,!1,null,"73fd5226",null),Ut=Rt.exports,jt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.utilisateurlist,(function(r){return e("tr",{key:r.id_utilisateur},[e("td",[t._v(t._s(r.nom_utilisateur))]),e("td",[t._v(t._s(r.nom_departement))]),e("td",[t._v(t._s(r.nom_role))]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-show",on:{click:function(e){return t.Approve(r)}}},[t._v("approve")])])])])})),0)])])])])])])},Bt=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Name")]),e("th",[t._v("Departement")]),e("th",[t._v("Role")]),e("th",[t._v("Action")])])])}],Wt={data:function(){return{utilisateurlist:[]}},mounted:function(){this.getListUserNotApprove()},methods:{getListUserNotApprove:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateurs_non_approuves");case 3:r=e.sent,t.utilisateurlist=r.data,console.log("Données du view :",t.utilisateurlist),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},Approve:function(t){var e=this;return(0,_.A)((0,h.A)().mark((function r(){var a;return(0,h.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.A.put("http://localhost:8081/api/approve/".concat(t.id_utilisateur));case 3:a=r.sent,console.log("update :",a.data),e.getListUserNotApprove(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},zt=Wt,Gt=(0,l.A)(zt,jt,Bt,!1,null,"6193a83a",null),Yt=Gt.exports,qt=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card",attrs:{title:"Insert Document"}},[e("div",[e("form",{on:{submit:function(t){t.preventDefault()}}},[t.errors?e("div",{staticClass:"alert alert-danger"},[e("ul",t._l(t.errors,(function(r){return e("li",{key:r},[t._v(t._s(r))])})),0)]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("fg-input",{attrs:{type:"text",label:"name",placeholder:"Enter Role name"},model:{value:t.formData.nom_role,callback:function(e){t.$set(t.formData,"nom_role",e)},expression:"formData.nom_role"}})],1)]),e("div",{staticClass:"text-center"},[e("p-button",{staticStyle:{"background-color":"rgb(1, 31, 65)"},attrs:{round:""},nativeOn:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v(" Insert ")])],1),e("div",{staticClass:"clearfix"})])])])},Vt=[],Jt={data:function(){return{formData:{nom_role:""},errors:null}},methods:{submitForm:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formData.nom_role){e.next=3;break}return t.errors=["Please fill in all required fields"],e.abrupt("return");case 3:return e.prev=3,e.next=6,g.A.post("http://localhost:8081/api/insert_role",t.formData);case 6:t.errors=null,t.formData={nom_role:""},e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),console.error("Error response:",e.t0.response),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?t.errors=[e.t0.response.data.message]:e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?t.errors=e.t0.response.data.errors:t.errors=["An unknown error occurred. Please try again later."];case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}},Ht=Jt,Zt=(0,l.A)(Ht,qt,Vt,!1,null,null,null),Kt=Zt.exports,Qt=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card",attrs:{title:"Insert Departement"}},[e("div",[e("form",{on:{submit:function(t){t.preventDefault()}}},[t.errors?e("div",{staticClass:"alert alert-danger"},[e("ul",t._l(t.errors,(function(r){return e("li",{key:r},[t._v(t._s(r))])})),0)]):t._e(),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("fg-input",{attrs:{type:"text",label:"name",placeholder:"Enter Departement name"},model:{value:t.formData.nom_departement,callback:function(e){t.$set(t.formData,"nom_departement",e)},expression:"formData.nom_departement"}}),e("fg-input",{attrs:{type:"text",label:"responsable",placeholder:"Enter Responsable name"},model:{value:t.formData.responsable,callback:function(e){t.$set(t.formData,"responsable",e)},expression:"formData.responsable"}}),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"dept"}},[t._v("Department parent")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.dept_parent,expression:"formData.dept_parent"}],staticClass:"form-control",attrs:{id:"dept",placeholder:"Select a department"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.formData,"dept_parent",e.target.multiple?r:r[0])}}},t._l(t.depts,(function(r){return e("option",{key:r.id_departement,domProps:{value:r}},[t._v(" "+t._s(r.nom_departement)+" ")])})),0)])],1)]),e("div",{staticClass:"text-center"},[e("p-button",{staticStyle:{"background-color":"rgb(1, 31, 65)"},attrs:{round:""},nativeOn:{click:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[t._v(" Insert ")])],1)])])])},Xt=[],te={data:function(){return{formData:{nom_departement:"",responsable:"",dept_parent:""},depts:[],errors:null}},mounted:function(){var t=this;g.A.get("http://localhost:8081/api/departements").then((function(e){t.depts=e.data})).catch((function(t){console.error("Error fetching departments:",t)}))},methods:{submitForm:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.formData.nom_departement&&t.formData.responsable){e.next=3;break}return t.errors=["Please fill in all required fields"],e.abrupt("return");case 3:return t.formData.dept_parent||(t.formData.dept_parent=null),e.prev=4,e.next=7,g.A.post("http://localhost:8081/api/insert_departement",t.formData);case 7:t.errors=null,t.formData={nom_departement:"",responsable:"",dept_parent:""},e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](4),console.error("Error response:",e.t0.response),e.t0.response&&e.t0.response.data&&e.t0.response.data.message?t.errors=[e.t0.response.data.message]:e.t0.response&&e.t0.response.data&&e.t0.response.data.errors?t.errors=e.t0.response.data.errors:t.errors=["An unknown error occurred. Please try again later."];case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))()}}},ee=te,re=(0,l.A)(ee,Qt,Xt,!1,null,null,null),ae=re.exports,ne=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.rolelist,(function(r){return e("tr",{key:r.id_role},[e("td",[t._v(t._s(r.id_role))]),e("td",[t._v(t._s(r.nom_role))]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-show",on:{click:function(e){return t.Remove(r)}}},[t._v("delete")])])])])})),0)])])])])])])},se=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Role")]),e("th",[t._v("Action")])])])}],oe={data:function(){return{rolelist:[]}},mounted:function(){this.getRoles()},methods:{getRoles:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/roles");case 3:r=e.sent,t.rolelist=r.data,console.log("Données du view :",t.rolelist),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},Remove:function(t){var e=this;return(0,_.A)((0,h.A)().mark((function r(){var a;return(0,h.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.A.delete("http://localhost:8081/api/deleteRole/".concat(t.id_role));case 3:a=r.sent,console.log("delete :",a.data),e.getRoles(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},ie=oe,le=(0,l.A)(ie,ne,se,!1,null,"2cf183fe",null),ce=le.exports,ue=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.departementlist,(function(r){return e("tr",{key:r.id_departement},[e("td",[t._v(t._s(r.id_departement))]),e("td",[t._v(t._s(r.nom_departement))]),e("td",[t._v(t._s(r.responsable))]),e("td",[t._v(t._s(r.dept_parent))]),e("td",[e("div",{staticClass:"btn-group"},[e("button",{staticClass:"btn btn-show",on:{click:function(e){return t.Remove(r)}}},[t._v("delete")])])])])})),0)])])])])])])},de=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Departement")]),e("th",[t._v("Responsable")]),e("th",[t._v("Parent")]),e("th",[t._v("Action")])])])}],pe={data:function(){return{departementlist:[]}},mounted:function(){this.getDepartements()},methods:{getDepartements:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/departements");case 3:r=e.sent,t.departementlist=r.data,console.log("Données du view :",t.departementlist),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},Remove:function(t){var e=this;return(0,_.A)((0,h.A)().mark((function r(){var a;return(0,h.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,g.A.delete("http://localhost:8081/api/deleteDepartement/".concat(t.id_departement));case 3:a=r.sent,console.log("delete :",a.data),e.getDepartements(),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},me=pe,ve=(0,l.A)(me,ue,de,!1,null,"a7325612",null),fe=ve.exports,he=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"form-inline"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"expediteur"}},[t._v("Expeditor:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.expediteur,expression:"expediteur"}],attrs:{type:"text",id:"expediteur"},domProps:{value:t.expediteur},on:{input:function(e){e.target.composing||(t.expediteur=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"startDate"}},[t._v("Start Date:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.startDate,expression:"startDate"}],attrs:{type:"date",id:"startDate"},domProps:{value:t.startDate},on:{input:function(e){e.target.composing||(t.startDate=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"endDate"}},[t._v("End Date:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.endDate,expression:"endDate"}],attrs:{type:"date",id:"endDate"},domProps:{value:t.endDate},on:{input:function(e){e.target.composing||(t.endDate=e.target.value)}}})]),e("button",{staticClass:"btn btn-submit",on:{click:t.getListRecu}},[t._v("Filter")]),t.startDate||t.endDate||t.expediteur?t._e():e("button",{staticClass:"btn btn-submit export-button",on:{click:t.downloadFile}},[t._v("Excel exportation")])])]),e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.reculist,(function(r){return e("tr",{key:r.id_courrier},[e("td",[t._v(t._s(r.statut))]),e("td",[t._v(t._s(r.nom_courrier))]),e("td",[t._v(t._s(r.description))]),e("td",[t._v(t._s(r.expediteur))]),e("td",[t._v(t._s(r.date_traitement))]),e("td",[t._v(t._s(r.nom_utilisateur))])])})),0)])])])])])])},_e=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Status")]),e("th",[t._v("Document")]),e("th",[t._v("Description")]),e("th",[t._v("Expeditor")]),e("th",[t._v("Date of treatment")]),e("th",[t._v("Receive by")])])])}],ge=(r(8598),r(7764),r(2953),r(3296),r(7208),r(8408),r(4603),r(7566),r(8721),{data:function(){return{reculist:[],user:null,departement:"",startDate:"",expediteur:"",endDate:"",departementName:"",downloadUrl:""}},mounted:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getListRecu();case 2:t.exportCourriers();case 3:case"end":return e.stop()}}),e)})))()},methods:{getListRecu:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a,n,s,o,i,l;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if(r=e.sent,t.user=r.data,t.user){e.next=8;break}return console.error("User data is missing"),e.abrupt("return");case 8:return e.next=10,g.A.get("http://localhost:8081/api/departement/utilisateur/".concat(t.user.id_utilisateur));case 10:return a=e.sent,t.departement=a.data,console.log("Données du view :",t.departement),e.next=15,g.A.get("http://localhost:8081/api/departement/".concat(t.departement));case 15:return n=e.sent,t.departementName=n.data,console.log("nom_departement:",t.departementName),s="http://localhost:8081/api/courriers_recu/".concat(t.departement),o=[],t.startDate&&t.endDate&&t.expediteur&&o.push("startDate=".concat(t.startDate,"&endDate=").concat(t.endDate,"&expediteur=").concat(t.expediteur)),t.startDate&&t.endDate&&o.push("startDate=".concat(t.startDate,"&endDate=").concat(t.endDate)),t.expediteur&&o.push("expediteur=".concat(t.expediteur)),i=o.length>0?"?".concat(o.join("&")):"",e.next=26,g.A.get("".concat(s).concat(i));case 26:l=e.sent,t.reculist=l.data,console.log("liste :",t.reculist),e.next=34;break;case 31:e.prev=31,e.t0=e["catch"](0),console.error(e.t0);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})))()},downloadFile:function(){var t=document.createElement("a");t.href=this.downloadUrl,t.download="courriers.xlsx",t.click()},exportCourriers:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a,n;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.post("http://localhost:8081/api/courriers/export",t.reculist,{headers:{"Content-Type":"application/json"},params:{departementName:t.departementName},responseType:"arraybuffer"});case 3:r=e.sent,console.log("Données du tab :",r.data),a=new Blob([r.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(a),t.downloadUrl=n,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},watch:{startDate:function(){this.startDate||this.getListRecu()},endDate:function(){this.endDate||this.getListRecu()},expediteur:function(){this.expediteur||this.getListRecu()}}}),be=ge,Ce=(0,l.A)(be,he,_e,!1,null,"b06e969a",null),we=Ce.exports,xe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-page"},[e("div",{staticClass:"form-container"},[e("div",{staticClass:"form"},[e("h3",{staticStyle:{color:"#FF5733"}},[t._v("Change Password")]),t.erreurMessage?e("div",{staticClass:"error"},[t._v(t._s(t.erreurMessage))]):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.ChangeMDP()}}},[e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"nom"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nom_utilisateur,expression:"nom_utilisateur"}],attrs:{type:"text",id:"nom",placeholder:"Enter your username"},domProps:{value:t.nom_utilisateur},on:{input:function(e){e.target.composing||(t.nom_utilisateur=e.target.value)}}})]),e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email",placeholder:"Enter your mail"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),!t.isValidEmail(t.email)&&t.email?e("div",{staticClass:"error"},[t._v("e-mail invalide")]):t._e()]),e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"mdp"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mot_de_passe,expression:"mot_de_passe"}],attrs:{type:"password",id:"mdp",placeholder:"Enter your password"},domProps:{value:t.mot_de_passe},on:{input:function(e){e.target.composing||(t.mot_de_passe=e.target.value)}}})]),t.isLogin?t._e():e("div",{staticClass:"input-field"},[e("label",{attrs:{for:"confirm-mdp"}},[t._v("Confirm Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmMdp,expression:"confirmMdp"}],attrs:{type:"password",id:"confirm-mdp",placeholder:"Re-enter your password"},domProps:{value:t.confirmMdp},on:{input:function(e){e.target.composing||(t.confirmMdp=e.target.value)}}})]),e("button",{staticClass:"login-btn",attrs:{type:"submit"}},[t._v("Submit")])]),e("router-link",{staticClass:"back-to-login",attrs:{to:"/"}},[t._v("Back to Login")])],1)])])])},ye=[],ke={name:"connection_user",data:function(){return{nom_utilisateur:"",mot_de_passe:"",confirmMdp:"",email:"",erreurMessage:""}},methods:{ChangeMDP:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.mot_de_passe===t.confirmMdp&&(r=new FormData,r.append("nom_utilisateur",t.nom_utilisateur),r.append("mot_de_passe",t.mot_de_passe),r.append("email",t.email),g.A.put("http://localhost:8081/api/update_mdp",r).then((function(e){console.log(e.data),t.$router.push("/")})).catch((function(e){console.error(e),e.response?t.erreurMessage=e.response.data:t.erreurMessage="Une erreur est survenue lors de la modification."})));case 1:case"end":return e.stop()}}),e)})))()},isValidEmail:function(t){var e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return e.test(t)}}},Ae=ke,De=(0,l.A)(Ae,xe,ye,!1,null,null,null),Se=De.exports,Ne=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h3",{staticStyle:{color:"#003366"}},[t._v(t._s(t.departementName))]),e("h6",[t._v("Statistics of the number of documents in the department")]),e("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.fetchStatistics.apply(null,arguments)}}},[e("div",{staticClass:"form-group mx-sm-3 mb-2"},[e("label",{staticClass:"mr-2",attrs:{for:"week"}},[t._v("Week:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedWeek,expression:"selectedWeek"}],staticClass:"form-control",attrs:{id:"week"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedWeek=e.target.multiple?r:r[0]}}},t._l(t.weeks,(function(r){return e("option",{key:r,domProps:{value:r}},[t._v(t._s(r))])})),0)]),e("div",{staticClass:"form-group mx-sm-3 mb-2"},[e("label",{staticClass:"mr-2",attrs:{for:"month"}},[t._v("Month:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],staticClass:"form-control",attrs:{id:"month"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedMonth=e.target.multiple?r:r[0]}}},[e("option",{attrs:{value:"1"}},[t._v("January")]),e("option",{attrs:{value:"2"}},[t._v("February")]),e("option",{attrs:{value:"3"}},[t._v("March")]),e("option",{attrs:{value:"4"}},[t._v("April")]),e("option",{attrs:{value:"5"}},[t._v("May")]),e("option",{attrs:{value:"6"}},[t._v("June")]),e("option",{attrs:{value:"7"}},[t._v("July")]),e("option",{attrs:{value:"8"}},[t._v("August")]),e("option",{attrs:{value:"9"}},[t._v("September")]),e("option",{attrs:{value:"10"}},[t._v("October")]),e("option",{attrs:{value:"11"}},[t._v("November")]),e("option",{attrs:{value:"12"}},[t._v("December")])])]),e("div",{staticClass:"form-group mx-sm-3 mb-2"},[e("label",{staticClass:"mr-2",attrs:{for:"year"}},[t._v("Year:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear,expression:"selectedYear"}],staticClass:"form-control",attrs:{type:"number",id:"year",placeholder:"Year"},domProps:{value:t.selectedYear},on:{input:function(e){e.target.composing||(t.selectedYear=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit"}},[t._v("Fetch Statistics")])]),null!==t.chartDataGeneral&&t.showGeneralChart?e("bar-chart",{attrs:{data:t.chartDataGeneral,options:t.chartOptions}}):t._e(),t.showWeekChart?e("bar-chart",{attrs:{data:t.chartData,options:t.chartOptions}}):t._e()],1)])])])])},Le=[],Ie=(r(3418),r(3500),r(6908)),Pe=r(2022);Pe.t1.register(Pe.hE,Pe.m_,Pe.s$,Pe.E8,Pe.PP,Pe.kc);var $e={components:{BarChart:Ie.yP},data:function(){return{statisticsData:[],statisticsDataGeneral:[],departementName:"",departementId:"",selectedWeek:"",selectedMonth:"",selectedYear:"",recu_par:null,weeks:Array.from({length:5},(function(t,e){return e+1})),formSubmitted:!1,showGeneralChart:!0,showWeekChart:!1}},computed:{chartDataGeneral:function(){if(0===this.statisticsDataGeneral.length)return null;var t=["January","February","March","April","May","June","July","August","September","October","November","December"],e=[0,0,0,0,0,0,0,0,0,0,0,0];return this.statisticsDataGeneral.forEach((function(t){var r=t.month;r>=1&&r<=12&&(e[r-1]=t.courrierCount)})),console.log("data",e),{labels:t,datasets:[{label:"Statistics of Document this year",backgroundColor:"#42A5F5",data:e}]}},chartData:function(){if(0===this.statisticsData.length)return null;var t=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],e=[0,0,0,0,0,0,0];return this.statisticsData.forEach((function(t){var r=t.dayOfWeek-1;r>=0&&r<7&&(e[r]=t.courrierCount)})),{labels:t,datasets:[{label:"Statistics of Document",backgroundColor:"#42A5F5",data:e}]}},chartOptions:function(){return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{display:!0}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}}}},mounted:function(){this.getDepartement()},methods:{getDepartement:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r,a,n,s;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.A.get("http://localhost:8081/api/utilisateur",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}});case 3:if(r=e.sent,a=r.data,a){e.next=8;break}return console.error("User  data is missing"),e.abrupt("return");case 8:return e.next=10,g.A.get("http://localhost:8081/api/departement/utilisateur/".concat(a.id_utilisateur));case 10:return n=e.sent,t.departementId=n.data,e.next=14,g.A.get("http://localhost:8081/api/departement/".concat(t.departementId));case 14:return s=e.sent,t.departementName=s.data,e.next=18,t.fetchStatistics();case 18:return e.next=20,t.fetchCurrentMonthAndYearStatistics();case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](0),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))()},fetchStatistics:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formSubmitted=!0,t.showGeneralChart=!1,e.prev=2,e.next=5,g.A.get("http://localhost:8081/api/statistique/courriers/".concat(t.departementId,"/").concat(t.selectedWeek,"/").concat(t.selectedMonth,"/").concat(t.selectedYear));case 5:r=e.sent,t.statisticsData=r.data,t.statisticsData.length>0&&(t.showWeekChart=!0),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](2),console.error("Error fetching statistics:",e.t0),t.statisticsData=[];case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},fetchCurrentMonthAndYearStatistics:function(){var t=this;return(0,_.A)((0,h.A)().mark((function e(){var r;return(0,h.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.formSubmitted=!0,e.prev=1,e.next=4,g.A.get("http://localhost:8081/api/statistique-general/courriers/".concat(t.departementId));case 4:r=e.sent,t.statisticsDataGeneral=r.data,console.log(t.statisticsDataGeneral),t.statisticsDataGeneral.length>0?t.showGeneralChart=!0:t.showGeneralChart=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),console.error("Error fetching statistics:",e.t0),t.statisticsDataGeneral=[];case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}}},Me=$e,Fe=(0,l.A)(Me,Ne,Le,!1,null,"40af40cf",null),Te=Fe.exports,Ee=[{path:"/",component:wt,name:"connection_user"},{path:"/admin/login",component:Ut,name:"connection_admin"},{path:"/forget_password",component:Se,name:"forget_password"},{path:"/dashboard",component:R,redirect:"/dashboard/document_register",children:[{path:"/dashboard/document_validation",name:"List of documents awaiting confirmation",component:ft},{path:"/dashboard/document_register",name:"Insert the document",component:St}]},{path:"/board",component:G,redirect:"/board/departement/:id_departement/courriers",children:[{path:"/board/departement/:id_departement/courriers",name:"Waiting document list",component:Mt},{path:"/board/courriersRecu",name:"List of documents received by your departement",component:we},{path:"/board/notifications",name:"notifications",component:lt},{path:"/board/statistique",name:"document statistique of your departement",component:Te}]},{path:"/adminboard",component:Z,redirect:"/adminboard/users",children:[{path:"/adminboard/users",name:"List of users not approved",component:Yt},{path:"/adminboard/insert_role",name:"Insertion of role",component:Kt},{path:"/adminboard/insert_departement",name:"Insertion of departement",component:ae},{path:"/adminboard/list_role",name:"List of roles",component:ce},{path:"/adminboard/list_departement",name:"List of departements",component:fe}]},{path:"*",component:rt}],Oe=Ee;a["default"].use(d.A);var Re=new d.A({mode:"history",routes:Oe,linkActiveClass:"active"}),Ue=Re,je=r(5709),Be=r.n(je),We=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar",attrs:{"data-background-color":t.backgroundColor,"data-active-color":t.activeColor}},[e("div",{staticClass:"sidebar-wrapper",attrs:{id:"style-3"}},[e("div",{staticClass:"logo"},[e("a",{staticClass:"simple-text",attrs:{href:"#"}},[t._m(0),t._v(" "+t._s(t.title)+" ")])]),t._t("default"),e("ul",{staticClass:"nav"},[t._t("links",(function(){return t._l(t.sidebarLinks,(function(t,r){return e("sidebar-link",{key:r,attrs:{to:t.path,name:t.name,icon:t.icon}})}))}))],2),e("moving-arrow",{attrs:{"move-y":t.arrowMovePx}})],2)])},ze=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo-img"},[e("img",{attrs:{src:r(6429),alt:""}})])}],Ge=(r(4554),function(){var t=this,e=t._self._c;return e("div",{staticClass:"moving-arrow",style:t.arrowStyle})}),Ye=[],qe=(r(2892),{props:{moveY:{type:Number,default:0}},computed:{arrowStyle:function(){return{transform:"translate3d(0px, ".concat(this.moveY,"px, 0px)")}}}}),Ve=qe,Je=(0,l.A)(Ve,Ge,Ye,!1,null,null,null),He=Je.exports,Ze=function(){var t=this,e=t._self._c;return e(t.tag,t._b({tag:"component",staticClass:"nav-item",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar.apply(null,arguments)}}},"component",t.$attrs,!1),[e("a",{staticClass:"nav-link"},[t._t("default",(function(){return[t.icon?e("i",{class:t.icon}):t._e(),e("p",[t._v(t._s(t.name))])]}))],2)])},Ke=[],Qe={name:"sidebar-link",inheritAttrs:!1,inject:{autoClose:{default:!0},addLink:{default:function(){}},removeLink:{default:function(){}}},props:{name:String,icon:String,tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar.displaySidebar(!1)},isActive:function(){return this.$el.classList.contains("active")}},mounted:function(){this.addLink&&this.addLink(this)},beforeDestroy:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeLink&&this.removeLink(this)}},Xe=Qe,tr=(0,l.A)(Xe,Ze,Ke,!1,null,null,null),er=tr.exports,rr={props:{title:{type:String,default:"Document tracking"},backgroundColor:{type:String,default:"black",validator:function(t){var e=["white","black","darkblue"];return-1!==e.indexOf(t)}},activeColor:{type:String,default:"success",validator:function(t){var e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose,addLink:this.addLink,removeLink:this.removeLink}},components:{MovingArrow:He,SidebarLink:er},computed:{arrowMovePx:function(){return this.linkHeight*this.activeLinkIndex}},data:function(){return{linkHeight:65,activeLinkIndex:0,windowWidth:0,isWindows:!1,hasAutoHeight:!1,links:[]}},methods:{findActiveLink:function(){var t=this;this.links.forEach((function(e,r){e.isActive()&&(t.activeLinkIndex=r)}))},addLink:function(t){var e=this.$slots.links.indexOf(t.$vnode);this.links.splice(e,0,t)},removeLink:function(t){var e=this.links.indexOf(t);e>-1&&this.links.splice(e,1)}},mounted:function(){this.$watch("$route",this.findActiveLink,{immediate:!0})}},ar=rr,nr=(0,l.A)(ar,We,ze,!1,null,null,null),sr=nr.exports,or={showSidebar:!1,sidebarLinks:[],displaySidebar:function(t){this.showSidebar=t}},ir={install:function(t){var e=new t({data:{sidebarStore:or}});t.prototype.$sidebar=e.sidebarStore,t.component("side-bar",sr),t.component("sidebar-link",er)}},lr=ir,cr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group",class:{"input-group":t.hasIcon}},[t._t("label",(function(){return[t.label?e("label",{staticClass:"control-label"},[t._v(" "+t._s(t.label)+" ")]):t._e()]})),t._t("addonLeft",(function(){return[t.addonLeftIcon?e("span",{staticClass:"input-group-prepend"},[e("i",{staticClass:"input-group-text",class:t.addonLeftIcon})]):t._e()]})),e("input",t._b({staticClass:"form-control",attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),t._t("default"),t._t("addonRight",(function(){return[t.addonRightIcon?e("span",{staticClass:"input-group-append"},[e("i",{staticClass:"input-group-text",class:t.addonRightIcon})]):t._e()]}))],2)},ur=[],dr={inheritAttrs:!1,name:"fg-input",props:{label:String,value:[String,Number],addonRightIcon:String,addonLeftIcon:String},computed:{hasIcon:function(){var t=this.$slots,e=t.addonRight,r=t.addonLeft;return void 0!==e||void 0!==r||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}}},pr=dr,mr=(0,l.A)(pr,cr,ur,!1,null,null,null),vr=mr.exports,fr=function(){var t=this,e=t._self._c;return e(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:{show:t.isOpen},on:{click:t.toggleDropDown}},[e("a",{staticClass:"dropdown-toggle btn-rotate",class:t.titleClasses,attrs:{"data-toggle":"dropdown"}},[t._t("title",(function(){return[e("i",{class:t.icon}),e("span",{staticClass:"notification"},[t._v(t._s(t.title)+" "),e("b",{staticClass:"caret"})])]}))],2),e("ul",{staticClass:"dropdown-menu",class:{show:t.isOpen}},[t._t("default")],2)])},hr=[],_r={props:{tag:{type:String,default:"li"},title:String,icon:String,titleClasses:[String,Object,Array]},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown:function(){this.isOpen=!1,this.$emit("change",!1)}}},gr=_r,br=(0,l.A)(gr,fr,hr,!1,null,null,null),Cr=br.exports,wr=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table",class:t.tableClass},[e("thead",[t._t("columns",(function(){return t._l(t.columns,(function(r){return e("th",{key:r},[t._v(t._s(r))])}))}))],2),e("tbody",t._l(t.data,(function(r,a){return e("tr",{key:a},[t._t("default",(function(){return t._l(t.columns,(function(a,n){return t.hasValue(r,a)?e("td",{key:n},[t._v(" "+t._s(t.itemValue(r,a))+" ")]):t._e()}))}),{row:r})],2)})),0)])},xr=[],yr={name:"paper-table",props:{columns:Array,data:Array,type:{type:String,default:"striped"},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass:function(){return"table-".concat(this.type)}},methods:{hasValue:function(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue:function(t,e){return t[e.toLowerCase()]}}},kr=yr,Ar=(0,l.A)(kr,wr,xr,!1,null,null,null),Dr=(Ar.exports,r(9481)),Sr=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"btn",class:[{"btn-round":t.round},{"btn-block":t.block},{"btn-just-icon":t.icon},(0,Dr.A)({},"btn-".concat(t.type),t.type&&!t.outline),(0,Dr.A)({},"btn-outline-".concat(t.type),t.type&&t.outline),(0,Dr.A)({},"btn-".concat(t.size),t.size),{"btn-link":t.simple}],attrs:{type:t.nativeType,disabled:t.disabled||t.loading}},[t._t("loading",(function(){return[t.loading?e("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()]})),t._t("default")],2)},Nr=[],Lr={name:"p-button",props:{tag:{type:String,default:"button"},round:Boolean,icon:Boolean,outline:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:""},simple:Boolean}},Ir=Lr,Pr=(0,l.A)(Ir,Sr,Nr,!1,null,null,null),$r=Pr.exports,Mr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.$slots.image?e("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?e("div",{staticClass:"card-header"},[t._t("header",(function(){return[e("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?e("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()]}))],2):t._e(),t.$slots.default?e("div",{staticClass:"card-body"},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?e("div",{staticClass:"card-footer"},[e("hr"),t._t("footer")],2):t._e()],2)},Fr=[],Tr={name:"card",props:{title:String,subTitle:String}},Er=Tr,Or=(0,l.A)(Er,Mr,Fr,!1,null,null,null),Rr=Or.exports,Ur=function(){var t=this,e=t._self._c;return e("card",[e("template",{slot:"header"},[t.$slots.title||t.title?e("h4",{staticClass:"card-title"},[t._t("title",(function(){return[t._v(" "+t._s(t.title)+" ")]}))],2):t._e(),e("p",{staticClass:"card-category"},[t._t("subTitle",(function(){return[t._v(" "+t._s(t.subTitle)+" ")]}))],2)]),e("div",[e("div",{staticClass:"ct-chart",attrs:{id:t.chartId}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"chart-legend"},[t._t("legend")],2),e("hr"),e("div",{staticClass:"stats"},[t._t("footer")],2),e("div",{staticClass:"pull-right"})])])],2)},jr=[],Br=(r(8781),{name:"chart-card",components:{Card:Rr},props:{footerText:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}}},data:function(){return{chartId:"no-id"}},methods:{initChart:function(t){var e="#".concat(this.chartId);t[this.chartType](e,this.chartData,this.chartOptions)},updateChartId:function(){var t=(new Date).getTime().toString(),e=this.getRandomInt(0,t);this.chartId="div_".concat(e)},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t}},mounted:function(){var t=this;this.updateChartId(),r.e(592).then(r.t.bind(r,9592,23)).then((function(e){var r=e.default||e;t.$nextTick((function(){t.initChart(r)}))}))}}),Wr=Br,zr=(0,l.A)(Wr,Ur,jr,!1,null,null,null),Gr=(zr.exports,function(){var t=this,e=t._self._c;return e("card",[e("div",[e("div",{staticClass:"row"},[t.$slots.header?e("div",{staticClass:"col-5"},[t._t("header")],2):t._e(),t.$slots.content?e("div",{staticClass:"col-7"},[t._t("content")],2):t._e()]),t.$slots.footer?e("div",[e("hr"),t._t("footer")],2):t._e()])])}),Yr=[],qr={name:"stats-card",components:{Card:Rr}},Vr=qr,Jr=(0,l.A)(Vr,Gr,Yr,!1,null,null,null),Hr=(Jr.exports,{install:function(t){t.component("fg-input",vr),t.component("drop-down",Cr),t.component("card",Rr),t.component("p-button",$r)}}),Zr=Hr,Kr=r(9499),Qr={install:function(t){t.directive("click-outside",Kr.u$)}},Xr=Qr,ta=(r(5542),{install:function(t){t.use(Zr),t.use(Xr),t.use(lr),t.use(Be())}});a["default"].use(ta),Ue.mode="history",new a["default"]({router:Ue,render:function(t){return t(u)}}).$mount("#app")},6429:function(t,e,r){t.exports=r.p+"img/logo.69457a9f.jpg"}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,a,n,s){if(!a){var o=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],s=t[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&s||o>=s)&&Object.keys(r.O).every((function(t){return r.O[t](a[l])}))?a.splice(l--,1):(i=!1,s<o&&(o=s));if(i){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[a,n,s]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};r.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var s=Object.create(null);r.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var i=2&n&&a;"object"==typeof i&&!~t.indexOf(i);i=e(i))Object.getOwnPropertyNames(i).forEach((function(t){o[t]=function(){return a[t]}}));return o["default"]=function(){return a},r.d(s,o),s}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,a){return r.f[a](t,e),e}),[]))}}(),function(){r.u=function(t){return"js/"+t+"-legacy.b224341b.js"}}(),function(){r.miniCssF=function(t){}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-paper-dashboard:";r.l=function(a,n,s,o){if(t[a])t[a].push(n);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+s){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",e+s),i.src=a),t[a]=[n];var p=function(e,r){i.onerror=i.onload=null,clearTimeout(m);var n=t[a];if(delete t[a],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(t){return t(r)})),e)return e(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.p="/"}(),function(){var t={524:0};r.f.j=function(e,a){var n=r.o(t,e)?t[e]:void 0;if(0!==n)if(n)a.push(n[2]);else{var s=new Promise((function(r,a){n=t[e]=[r,a]}));a.push(n[2]=s);var o=r.p+r.u(e),i=new Error,l=function(a){if(r.o(t,e)&&(n=t[e],0!==n&&(t[e]=void 0),n)){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,n[1](i)}};r.l(o,l,"chunk-"+e,e)}},r.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,s,o=a[0],i=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(l)var u=l(r)}for(e&&e(a);c<o.length;c++)s=o[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(u)},a=self["webpackChunkvue_paper_dashboard"]=self["webpackChunkvue_paper_dashboard"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(5363)}));a=r.O(a)})();
//# sourceMappingURL=app-legacy.52fecb37.js.map